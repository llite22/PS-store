(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{3870:function(e,t,r){Promise.resolve().then(r.bind(r,9550))},9550:function(e,t,r){"use strict";r.r(t);var c=r(9268),i=r(3703),a=r(6628),n=r(6394),s=r.n(n),l=r(7583),_=r.n(l);t.default=()=>{let e=(0,a.I0)(),{items:t,totalPrice:r}=(0,a.v9)(e=>e.cart),n=t=>{e((0,i.cl)(t)),e((0,i.R4)()),localStorage.removeItem("addedToCart-".concat(t))};return(0,c.jsx)("section",{className:_().cart,children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:_().cart__title,children:[(0,c.jsx)("h2",{children:"Корзина"}),(0,c.jsx)("p",{children:0!==r?"Итого: ".concat(r,"$"):"Итого: 0$"})]}),(0,c.jsx)("div",{className:_().cart__total}),(0,c.jsx)("ul",{children:t.map(e=>(0,c.jsxs)("li",{children:[(0,c.jsx)(s(),{className:_().cart__image,width:100,height:100,src:e.image,alt:e.title}),(0,c.jsxs)("div",{className:_().cart__text,children:[(0,c.jsx)("div",{className:_().title,children:e.title}),(0,c.jsx)("div",{children:e.description}),(0,c.jsx)("div",{children:e.playstation}),(0,c.jsx)("div",{children:e.imageDev&&(0,c.jsx)(s(),{className:_().cart__imagePS,width:20,height:20,src:e.imageDev,alt:e.title})})]}),(0,c.jsx)("div",{className:_().cart__price,children:e.newPrice?"FREE"===e.newPrice?e.newPrice:"$".concat(e.newPrice):"FREE"===e.price?e.price:"$".concat(e.price)}),(0,c.jsx)("button",{onClick:()=>n(e.id),children:"Удалить"})]},e.id))})]})})}},3703:function(e,t,r){"use strict";r.d(t,{R4:function(){return s},cl:function(){return n},jX:function(){return a}});var c=r(7539);let i=(0,c.oM)({name:"cart",initialState:{items:[],totalPrice:0},reducers:{addItem:(e,t)=>{e.items.push(t.payload)},removeItem:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)},updateTotalPrice:e=>{e.totalPrice=parseFloat(e.items.reduce((e,t)=>{let r=parseFloat(t.price);return t.newPrice&&"FREE"===t.newPrice?r=0:t.newPrice&&t.newPrice<t.price?e+=parseFloat(t.newPrice):e+=r,e},0).toFixed(2))}}}),{addItem:a,removeItem:n,updateTotalPrice:s}=i.actions;t.ZP=i.reducer},7583:function(e){e.exports={cart__title:"Cart_cart__title__80bkb",cart__total:"Cart_cart__total__Wm_x3",cart:"Cart_cart__Rthy7",cart__text:"Cart_cart__text__EUE8Q",title:"Cart_title__sTXjO",cart__price:"Cart_cart__price__g0EaK",cart__imagePS:"Cart_cart__imagePS__0dNdV"}}},function(e){e.O(0,[29,682,253,698,744],function(){return e(e.s=3870)}),_N_E=e.O()}]);