(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{504:function(t,r,e){Promise.resolve().then(e.bind(e,1773)),Promise.resolve().then(e.bind(e,7403)),Promise.resolve().then(e.t.bind(e,213,23))},7403:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return o}});var a=e(9268),c=e(6008);let d=(t,r)=>{let e=new URLSearchParams(window.location.search);e.set(t,r);let a="".concat(window.location.pathname,"?").concat(e.toString());return a};var o=t=>{let{searchParams:r}=t,e=(0,c.useRouter)(),o=Array.from([,,,,,],(t,r)=>r+1);return(0,a.jsx)("div",{className:"flex justify-center mt-8 mb-8",children:o.map(t=>t===parseInt(r.page||"1")?(0,a.jsx)("button",{className:"mx-1 w-10 h-10 rounded bg-purple-500 hover:bg-purple-600 text-white",children:t},t):(0,a.jsx)("button",{onClick:()=>{let r=d("page","".concat(t));e.push(r)},className:"mx-1 w-10 h-10 rounded bg-gray-200 hover:bg-gray-300 text-black",children:t},t))})}},1773:function(t,r,e){"use strict";e.r(r);var a=e(9268),c=e(6006),d=e(6394),o=e.n(d),n=e(6008),s=e(6628),_=e(3703),i=e(5831),l=e.n(i);r.default=t=>{let{id:r,addOn:e,playstation:d,title:i,image:u,description:p,imageDev:C,price:h,newPrice:m,imageDevColor:g}=t,x=(0,n.useRouter)(),P=(0,s.I0)(),[f,j]=(0,c.useState)(!1),v=()=>{P((0,_.jX)({id:r,addOn:e,playstation:d,title:i,image:u,description:p,imageDev:C,price:h,newPrice:m,imageDevColor:g})),P((0,_.R4)()),j(!0),localStorage.setItem("addedToCart-".concat(r),"true")};(0,c.useEffect)(()=>{let t=localStorage.getItem("addedToCart-".concat(r));"true"===t&&j(!0)},[]);let w=()=>{f?x.push("/cart"):v()},b="";"string"==typeof m&&/^[a-zA-Z]+$/.test(m)?b=m:m&&(b="$".concat(m));let N=/^[a-zA-Z]+$/.test(h)?h:"$".concat(h),k=i.length>22?"".concat(i.slice(0,22),"..."):i;return(0,a.jsxs)("div",{className:l().productCard,children:[(0,a.jsx)(o(),{src:u,width:170,height:170,alt:i}),(0,a.jsx)("h2",{children:k}),(0,a.jsx)("p",{children:p}),(0,a.jsxs)("div",{className:l().productCard__ps,children:[(0,a.jsx)("h3",{children:d}),e&&(0,a.jsx)("span",{className:l().productCard__dev,children:e}),C&&(0,a.jsx)(o(),{src:C,className:l().productCard__psplus,width:14,height:14,alt:"up"})]}),(0,a.jsx)("div",{className:l().ProductCard__btn,children:b?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{className:"".concat(l().productCard__price," ").concat(f?l().productCard__added:""),onClick:f?()=>x.push("/cart"):w,children:f?(0,a.jsx)("span",{children:"Посмотреть в корзине"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:N}),(0,a.jsx)("span",{className:l().productCard__priceSeparator}),(0,a.jsx)("span",{className:"".concat(l().productCard__newPrice," ").concat(f?l().productCard__addedPrice:""),style:{color:g},children:b})]})})}):(0,a.jsx)("button",{className:"".concat(l().productCard__price," ").concat(f?l().productCard__added:""),onClick:f?()=>x.push("/cart"):w,children:f?(0,a.jsx)("span",{children:"Посмотреть в корзине"}):(0,a.jsx)("span",{children:N})})})]})}},3703:function(t,r,e){"use strict";e.d(r,{R4:function(){return n},cl:function(){return o},jX:function(){return d}});var a=e(7539);let c=(0,a.oM)({name:"cart",initialState:{items:[],totalPrice:0},reducers:{addItem:(t,r)=>{t.items.push(r.payload)},removeItem:(t,r)=>{t.items=t.items.filter(t=>t.id!==r.payload)},updateTotalPrice:t=>{t.totalPrice=parseFloat(t.items.reduce((t,r)=>{let e=parseFloat(r.price);return r.newPrice&&"FREE"===r.newPrice?e=0:r.newPrice&&r.newPrice<r.price?t+=parseFloat(r.newPrice):t+=e,t},0).toFixed(2))}}}),{addItem:d,removeItem:o,updateTotalPrice:n}=c.actions;r.ZP=c.reducer},213:function(t){t.exports={catalog__container:"Catalog_catalog__container__ufmVM",catalog__title:"Catalog_catalog__title__iVRbU",catalog:"Catalog_catalog__gE0xl",catalog__item:"Catalog_catalog__item__m_DT_",catalog__no:"Catalog_catalog__no__QsvAt"}},5831:function(t){t.exports={productCard:"ProductCard_productCard__Qo5PQ",productCard__ps:"ProductCard_productCard__ps__pH_kx",productCard__psplus:"ProductCard_productCard__psplus__RzfO6",productCard__dev:"ProductCard_productCard__dev__JZ0XI",productCard__price:"ProductCard_productCard__price__kLi3C",productCard__priceSeparator:"ProductCard_productCard__priceSeparator__a_pj_",productCard__added:"ProductCard_productCard__added__J6Pqd",productCard__addedPrice:"ProductCard_productCard__addedPrice__EDxQv"}},6008:function(t,r,e){t.exports=e(4e3)}},function(t){t.O(0,[29,682,253,698,744],function(){return t(t.s=504)}),_N_E=t.O()}]);